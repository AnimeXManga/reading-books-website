{"ast":null,"code":"var _jsxFileName = \"D:\\\\Projects\\\\reading-books-website\\\\src\\\\components\\\\books.js\";\nimport { render } from \"@testing-library/react\";\nimport React, { Component, useEffect, useState } from \"react\";\nimport request, { parse } from \"superagent\";\nimport SearchArea from \"./SearchArea\";\nimport BookList from \"./booklist\";\nimport Image from \"../asset/img/no-image.png\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Books extends Component {\n  constructor(props) {\n    super(props);\n\n    this.searchBook = e => {\n      e.preventDefault();\n      request.get(\"https://www.googleapis.com/books/v1/volumes\").query({\n        q: this.state.searchField\n      }).then(data => {\n        console.log(data);\n        const cleanData = this.cleanData(data);\n        this.setState({\n          books: cleanData\n        });\n      });\n    };\n\n    this.handleSearch = e => {\n      this.setState({\n        searchField: e.target.value\n      });\n    };\n\n    this.handleSort = e => {\n      this.setState({\n        sort: e.target.value\n      });\n    };\n\n    this.cleanData = data => {\n      const cleanedData = data.body.items.map(book => {\n        if (book.volumeInfo.hasOwnProperty('publishedDate') === false) {\n          book.volumeInfo['publishedDate'] = '0000';\n        } else if (book.volumeInfo.hasOwnProperty('imageLinks') === false) {\n          book.volumeInfo['imageLinks'] = {\n            thumbnail: {\n              Image\n            }\n          };\n        }\n\n        return book;\n      });\n      return cleanedData;\n    };\n\n    this.state = {\n      books: [],\n      searchField: \"\",\n      sort: \"\"\n    };\n  }\n\n  render() {\n    const [movies, setMovies] = useState();\n    const sortedBooks = this.state.books.sort((a, b) => {\n      if (this.state.sort === 'Newest') {\n        return parseInt(b.volumeInfo.publishedDate.substring(0, 4)) - parseInt(a.volumeInfo.publishedDate.substring(0, 4));\n      } else if (this.state.sort === 'Oldest') {\n        return parseInt(a.volumeInfo.publishedDate.substring(0, 4)) - parseInt(b.volumeInfo.publishedDate.substring(0, 4));\n      }\n    });\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      class: \"container type\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"d-flex pt-2 \",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            fontsize: \"18px\"\n          },\n          children: [\"HOT \", /*#__PURE__*/_jsxDEV(\"i\", {\n            class: \"bi bi-heart\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"ml-auto\",\n          children: /*#__PURE__*/_jsxDEV(SearchArea, {\n            searchBook: this.searchBook,\n            handleSearch: this.handleSearch,\n            handleSort: this.handleSort\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"btn-group ml-auto\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            class: \"btn btn-primary \",\n            children: \"Category\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            class: \"btn btn-primary dropdown-toggle dropdown-toggle-split \",\n            id: \"dropdownMenuReference\",\n            \"data-toggle\": \"dropdown\",\n            \"aria-haspopup\": \"true\",\n            \"aria-expanded\": \"false\",\n            \"data-reference\": \"parent\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"dropdown-menu dropdown-scrollbar dropdown-menu-right\",\n            \"aria-labelledby\": \"dropdownMenuReference\",\n            children: [/*#__PURE__*/_jsxDEV(\"a\", {\n              class: \"dropdown-item\",\n              href: \"#\",\n              children: \"T\\u1EA5t c\\u1EA3 s\\xE1ch\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 95,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n              class: \"dropdown-item\",\n              href: \"#\",\n              children: \"T\\xE2m L\\xFD - K\\u1EF9 N\\u0103ng S\\u1ED1ng\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 98,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n              class: \"dropdown-item\",\n              href: \"#\",\n              children: \"Kinh T\\u1EBF - Qu\\u1EA3n L\\xFD\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 101,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n              class: \"dropdown-item\",\n              href: \"#\",\n              children: [\"Marketing - B\\xE1n h\\xE0ng\", \" \"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 104,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n              class: \"dropdown-item\",\n              href: \"#\",\n              children: \"Y H\\u1ECDc - S\\u1EE9c Kh\\u1ECFe\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 107,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n              class: \"dropdown-item\",\n              href: \"#\",\n              children: \"H\\u1ECDc Ngo\\u1EA1i Ng\\u1EEF\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 110,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n              class: \"dropdown-item\",\n              href: \"#\",\n              children: \"Khoa H\\u1ECDc - K\\u1EF9 Thu\\u1EADt\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 113,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n              class: \"dropdown-item\",\n              href: \"#\",\n              children: \"Th\\u1EC3 Thao - Ngh\\u1EC7 Thu\\u1EADt\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 116,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n              class: \"dropdown-item\",\n              href: \"#\",\n              children: \"Trinh Th\\xE1m - H\\xECnh S\\u1EF1\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 119,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n              class: \"dropdown-item\",\n              href: \"#\",\n              children: \"V\\u0103n H\\xF3a - T\\xF4n Gi\\xE1o\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 122,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n              class: \"dropdown-item\",\n              href: \"#\",\n              children: \"T\\u1EED Vi - Phong Th\\u1EE7y\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 125,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n              class: \"dropdown-item\",\n              href: \"#\",\n              children: \"L\\u1ECBch S\\u1EED - Ch\\xEDnh Tr\\u1ECB\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 128,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n              class: \"dropdown-item\",\n              href: \"#\",\n              children: \"V\\u0103n H\\u1ECDc Vi\\u1EC7t Nam\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 131,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n              class: \"dropdown-item\",\n              href: \"#\",\n              children: \"Truy\\u1EC7n Ng\\u1EAFn - Ng\\xF4n T\\xECnh\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 134,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n              class: \"dropdown-item\",\n              href: \"#\",\n              children: \"Truy\\u1EC7n C\\u01B0\\u1EDDi - Ti\\u1EBFu L\\xE2m\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 137,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n              class: \"dropdown-item\",\n              href: \"#\",\n              children: \"Ti\\u1EC3u Thuy\\u1EBFt Ph\\u01B0\\u01A1ng T\\xE2y\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 140,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n              class: \"dropdown-item\",\n              href: \"#\",\n              children: \"Truy\\u1EC7n Ma - Truy\\u1EC7n Kinh D\\u1ECB\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 143,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n              class: \"dropdown-item\",\n              href: \"#\",\n              children: \"Huy\\u1EC1n b\\xED - Gi\\u1EA3 T\\u01B0\\u1EDFng\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 146,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n              class: \"dropdown-item\",\n              href: \"#\",\n              children: \"H\\u1ED3i K\\xFD - Tu\\u1EF3 B\\xFAt\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 149,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n              class: \"dropdown-item\",\n              href: \"#\",\n              children: \"Phi\\xEAu L\\u01B0u - M\\u1EA1o Hi\\u1EC3m\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 152,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n              class: \"dropdown-item\",\n              href: \"#\",\n              children: \"Truy\\u1EC7n Teen - Tu\\u1ED5i H\\u1ECDc Tr\\xF2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 155,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n              class: \"dropdown-item\",\n              href: \"#\",\n              children: \"C\\u1ED5 T\\xEDch - Th\\u1EA7n Tho\\u1EA1i\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 158,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n              class: \"dropdown-item\",\n              href: \"#\",\n              children: \"Tri\\u1EBFt H\\u1ECDc\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 161,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n              class: \"dropdown-item\",\n              href: \"#\",\n              children: \"Ki\\u1EBFm Hi\\u1EC7p - Ti\\xEAn Hi\\u1EC7p\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 164,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n              class: \"dropdown-item\",\n              href: \"#\",\n              children: \"Ti\\u1EC3u Thuy\\u1EBFt Trung Qu\\u1ED1c\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 167,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n              class: \"dropdown-item\",\n              href: \"#\",\n              children: \"Ki\\u1EBFn Tr\\xFAc - X\\xE2y D\\u1EF1ng\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 170,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n              class: \"dropdown-item\",\n              href: \"#\",\n              children: \"N\\xF4ng - L\\xE2m - Ng\\u01B0\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 173,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n              class: \"dropdown-item\",\n              href: \"#\",\n              children: \"C\\xF4ng Ngh\\u1EC7 Th\\xF4ng Tin\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 176,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n              class: \"dropdown-item\",\n              href: \"#\",\n              children: \"T\\xE0i Li\\u1EC7u H\\u1ECDc T\\u1EADp\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 179,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n              class: \"dropdown-item\",\n              href: \"#\",\n              children: \"\\u1EA8m th\\u1EF1c - N\\u1EA5u \\u0103n\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 182,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n              class: \"dropdown-item\",\n              href: \"#\",\n              children: \"Th\\u01B0 Vi\\u1EC7n Ph\\xE1p Lu\\u1EADt\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 185,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n              class: \"dropdown-item\",\n              href: \"#\",\n              children: \"Truy\\u1EC7n Tranh\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 188,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(BookList, {\n        books: sortedBooks\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default Books;","map":{"version":3,"sources":["D:/Projects/reading-books-website/src/components/books.js"],"names":["render","React","Component","useEffect","useState","request","parse","SearchArea","BookList","Image","Books","constructor","props","searchBook","e","preventDefault","get","query","q","state","searchField","then","data","console","log","cleanData","setState","books","handleSearch","target","value","handleSort","sort","cleanedData","body","items","map","book","volumeInfo","hasOwnProperty","thumbnail","movies","setMovies","sortedBooks","a","b","parseInt","publishedDate","substring","fontsize"],"mappings":"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","sourcesContent":["import { render } from \"@testing-library/react\";\r\nimport React, { Component, useEffect, useState } from \"react\";\r\nimport request, { parse } from \"superagent\";\r\nimport SearchArea from \"./SearchArea\";\r\nimport BookList from \"./booklist\";\r\nimport Image from \"../asset/img/no-image.png\"\r\n\r\nclass Books extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      books: [],\r\n      searchField: \"\",\r\n      sort: \"\"\r\n    };\r\n  }\r\n\r\n  searchBook = (e) => {\r\n    e.preventDefault();\r\n    request\r\n      .get(\"https://www.googleapis.com/books/v1/volumes\")\r\n      .query({ q: this.state.searchField })\r\n      .then((data) => {\r\n        console.log(data);\r\n        const cleanData = this.cleanData(data)\r\n        this.setState({ books: cleanData });\r\n      });\r\n  };\r\n\r\n  handleSearch = (e) => {\r\n    this.setState({ searchField: e.target.value });\r\n  };\r\n\r\n  handleSort = (e) => {\r\n    this.setState({sort: e.target.value})\r\n  }\r\n\r\n  cleanData = (data) => {\r\n    const cleanedData = data.body.items.map((book) => {\r\n      if(book.volumeInfo.hasOwnProperty('publishedDate') === false) {\r\n        book.volumeInfo['publishedDate'] = '0000';\r\n      }\r\n      else if(book.volumeInfo.hasOwnProperty('imageLinks') === false) {\r\n        book.volumeInfo['imageLinks'] = {thumbnail: {Image}}\r\n      }\r\n      return book;\r\n    })\r\n    return cleanedData;\r\n  }\r\n    \r\n\r\n  render() {\r\n    const [movies, setMovies] = useState()\r\n    const sortedBooks = this.state.books.sort((a,b) => {\r\n      if(this.state.sort === 'Newest'){\r\n        return parseInt(b.volumeInfo.publishedDate.substring(0,4)) -  parseInt(a.volumeInfo.publishedDate.substring(0,4))\r\n      }\r\n      else if(this.state.sort === 'Oldest'){\r\n        return parseInt(a.volumeInfo.publishedDate.substring(0,4)) -  parseInt(b.volumeInfo.publishedDate.substring(0,4))\r\n      }\r\n    })\r\n\r\n    return (\r\n      <div class=\"container type\">\r\n        <div class=\"d-flex pt-2 \">\r\n          <p style={{ fontsize: \"18px\" }}>\r\n            HOT <i class=\"bi bi-heart\"></i>\r\n          </p>\r\n          <div class=\"ml-auto\">\r\n            \r\n            <SearchArea\r\n              searchBook={this.searchBook}\r\n              handleSearch={this.handleSearch}\r\n              handleSort={this.handleSort}\r\n            />\r\n          </div>\r\n\r\n          <div class=\"btn-group ml-auto\">\r\n            <button type=\"button\" class=\"btn btn-primary \">\r\n              Category\r\n            </button>\r\n            <button\r\n              type=\"button\"\r\n              class=\"btn btn-primary dropdown-toggle dropdown-toggle-split \"\r\n              id=\"dropdownMenuReference\"\r\n              data-toggle=\"dropdown\"\r\n              aria-haspopup=\"true\"\r\n              aria-expanded=\"false\"\r\n              data-reference=\"parent\"\r\n            ></button>\r\n            <div\r\n              class=\"dropdown-menu dropdown-scrollbar dropdown-menu-right\"\r\n              aria-labelledby=\"dropdownMenuReference\"\r\n            >\r\n              <a class=\"dropdown-item\" href=\"#\">\r\n                Tất cả sách\r\n              </a>\r\n              <a class=\"dropdown-item\" href=\"#\">\r\n                Tâm Lý - Kỹ Năng Sống\r\n              </a>\r\n              <a class=\"dropdown-item\" href=\"#\">\r\n                Kinh Tế - Quản Lý\r\n              </a>\r\n              <a class=\"dropdown-item\" href=\"#\">\r\n                Marketing - Bán hàng{\" \"}\r\n              </a>\r\n              <a class=\"dropdown-item\" href=\"#\">\r\n                Y Học - Sức Khỏe\r\n              </a>\r\n              <a class=\"dropdown-item\" href=\"#\">\r\n                Học Ngoại Ngữ\r\n              </a>\r\n              <a class=\"dropdown-item\" href=\"#\">\r\n                Khoa Học - Kỹ Thuật\r\n              </a>\r\n              <a class=\"dropdown-item\" href=\"#\">\r\n                Thể Thao - Nghệ Thuật\r\n              </a>\r\n              <a class=\"dropdown-item\" href=\"#\">\r\n                Trinh Thám - Hình Sự\r\n              </a>\r\n              <a class=\"dropdown-item\" href=\"#\">\r\n                Văn Hóa - Tôn Giáo\r\n              </a>\r\n              <a class=\"dropdown-item\" href=\"#\">\r\n                Tử Vi - Phong Thủy\r\n              </a>\r\n              <a class=\"dropdown-item\" href=\"#\">\r\n                Lịch Sử - Chính Trị\r\n              </a>\r\n              <a class=\"dropdown-item\" href=\"#\">\r\n                Văn Học Việt Nam\r\n              </a>\r\n              <a class=\"dropdown-item\" href=\"#\">\r\n                Truyện Ngắn - Ngôn Tình\r\n              </a>\r\n              <a class=\"dropdown-item\" href=\"#\">\r\n                Truyện Cười - Tiếu Lâm\r\n              </a>\r\n              <a class=\"dropdown-item\" href=\"#\">\r\n                Tiểu Thuyết Phương Tây\r\n              </a>\r\n              <a class=\"dropdown-item\" href=\"#\">\r\n                Truyện Ma - Truyện Kinh Dị\r\n              </a>\r\n              <a class=\"dropdown-item\" href=\"#\">\r\n                Huyền bí - Giả Tưởng\r\n              </a>\r\n              <a class=\"dropdown-item\" href=\"#\">\r\n                Hồi Ký - Tuỳ Bút\r\n              </a>\r\n              <a class=\"dropdown-item\" href=\"#\">\r\n                Phiêu Lưu - Mạo Hiểm\r\n              </a>\r\n              <a class=\"dropdown-item\" href=\"#\">\r\n                Truyện Teen - Tuổi Học Trò\r\n              </a>\r\n              <a class=\"dropdown-item\" href=\"#\">\r\n                Cổ Tích - Thần Thoại\r\n              </a>\r\n              <a class=\"dropdown-item\" href=\"#\">\r\n                Triết Học\r\n              </a>\r\n              <a class=\"dropdown-item\" href=\"#\">\r\n                Kiếm Hiệp - Tiên Hiệp\r\n              </a>\r\n              <a class=\"dropdown-item\" href=\"#\">\r\n                Tiểu Thuyết Trung Quốc\r\n              </a>\r\n              <a class=\"dropdown-item\" href=\"#\">\r\n                Kiến Trúc - Xây Dựng\r\n              </a>\r\n              <a class=\"dropdown-item\" href=\"#\">\r\n                Nông - Lâm - Ngư\r\n              </a>\r\n              <a class=\"dropdown-item\" href=\"#\">\r\n                Công Nghệ Thông Tin\r\n              </a>\r\n              <a class=\"dropdown-item\" href=\"#\">\r\n                Tài Liệu Học Tập\r\n              </a>\r\n              <a class=\"dropdown-item\" href=\"#\">\r\n                Ẩm thực - Nấu ăn\r\n              </a>\r\n              <a class=\"dropdown-item\" href=\"#\">\r\n                Thư Viện Pháp Luật\r\n              </a>\r\n              <a class=\"dropdown-item\" href=\"#\">\r\n                Truyện Tranh\r\n              </a>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <BookList books={sortedBooks}/>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Books;\r\n"]},"metadata":{},"sourceType":"module"}